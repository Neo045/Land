<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Free IPTV Downloads</title>

<style>
:root{
    --bg:#f4f6fb;
    --card:#fff;
    --text:#111;
}
body.dark{
    --bg:#0e1117;
    --card:#161b22;
    --text:#e6edf3;
}
body{
    margin:0;
    font-family:system-ui;
    background:var(--bg);
    color:var(--text);
    transition:.3s;
}
.container{max-width:900px;margin:auto;padding:30px;}
.toggle{
    position:fixed;top:15px;right:15px;
    background:var(--card);
    padding:10px 14px;border-radius:10px;
    cursor:pointer;
}
.app{
    background:var(--card);
    padding:22px;border-radius:20px;
    display:flex;gap:18px;
    align-items:center;
    box-shadow:0 12px 30px rgba(0,0,0,.08);
    margin-bottom:25px;
}
.app img{width:70px;border-radius:16px;}
.meta{font-size:14px;color:#888;}
.btn{
    margin-left:auto;
    background:linear-gradient(135deg,#0aa6b2,#1677ff);
    color:#fff;padding:14px 22px;
    border-radius:14px;text-decoration:none;
    font-weight:600;
    transition:.3s;
}
.btn:hover{transform:scale(1.05);}
.modal{
    display:none;position:fixed;inset:0;
    background:rgba(0,0,0,.7);
    align-items:center;justify-content:center;
}
.modal-box{
    background:#fff;color:#111;
    padding:25px;border-radius:16px;
    max-width:320px;text-align:center;
}
.modal button{
    margin-top:15px;padding:10px 20px;
}
@media(max-width:600px){
    .app{flex-direction:column;text-align:center;}
    .btn{margin-left:0;width:100%;}
}
</style>
</head>

<body>

<div class="toggle" onclick="toggleDark()">ðŸŒ“</div>

<div class="container">

<!-- NORMAL -->
<div class="app">
<img src="https://cdn-icons-png.flaticon.com/512/2965/2965300.png">
<div>
<h2>Free IPTV (Normal)</h2>
<div class="meta" id="n-meta">Loading...</div>
<div class="meta" id="n-sha"></div>
<div class="meta">Downloads: <span id="n-count">0</span></div>
</div>
<a class="btn" id="n-btn">â¬‡ Download</a>
</div>

<!-- ADULT -->
<div class="app">
<img src="https://raw.githubusercontent.com/twitter/twemoji/master/assets/72x72/1f51e.png">
<div>
<h2>Free IPTV (Adult)</h2>
<div class="meta" id="a-meta">Loading...</div>
<div class="meta" id="a-sha"></div>
<div class="meta">Downloads: <span id="a-count">0</span></div>
</div>
<a class="btn" onclick="showAdult()">â¬‡ Download</a>
</div>

</div>

<!-- ADULT MODAL -->
<div class="modal" id="adultModal">
<div class="modal-box">
<h3>ðŸ”ž Adult Content</h3>
<p>You must be 18+ to continue.</p>
<button onclick="confirmAdult()">Iâ€™m 18+</button>
<button onclick="closeAdult()">Cancel</button>
</div>
</div>

<script>
const repo="Neo045/Apps";
const isDark=localStorage.dark==="1";
if(isDark)document.body.classList.add("dark");

function toggleDark(){
 document.body.classList.toggle("dark");
 localStorage.dark=document.body.classList.contains("dark")?"1":"0";
}

function arch(){
 const ua=navigator.userAgent;
 if(ua.includes("arm64")||ua.includes("aarch64"))return "ARM64";
 return "ARM";
}

async function sha256(url){
 const buf=await fetch(url).then(r=>r.arrayBuffer());
 const hash=await crypto.subtle.digest("SHA-256",buf);
 return [...new Uint8Array(hash)].map(b=>b.toString(16).padStart(2,"0")).join("");
}

async function load(apk,meta,btn,sha,countKey){
 const r=await fetch(`https://api.github.com/repos/${repo}/releases/latest`);
 const d=await r.json();
 const a=d.assets.find(x=>x.name===apk);
 const size=(a.size/1048576).toFixed(1);
 document.getElementById(meta).innerText=
 `v${d.tag_name} â€¢ ${size}MB â€¢ ${arch()}`;
 document.getElementById(countKey).innerText=
 localStorage[countKey]||0;

 const hash=await sha256(a.browser_download_url);
 document.getElementById(sha).innerText="SHA256: "+hash.slice(0,32)+"â€¦";

 document.getElementById(btn).onclick=()=>{
  localStorage[countKey]=(Number(localStorage[countKey]||0)+1);
  location.href=a.browser_download_url;
 }
}

load("Free_IPTV_Normal.apk","n-meta","n-btn","n-sha","n-count");

function showAdult(){document.getElementById("adultModal").style.display="flex";}
function closeAdult(){adultModal.style.display="none";}
async function confirmAdult(){
 adultModal.style.display="none";
 await load("Free_IPTV_Adult.apk","a-meta","a-btn","a-sha","a-count");
 document.getElementById("a-btn").click();
}
</script>

</body>
</html>